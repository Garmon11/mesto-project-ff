(()=>{"use strict";function e(e){e.remove()}function t(e){e.classList.toggle("card__like-button_is-active")}function n(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",o)}function r(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",o)}function o(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&r(t)}}var c=document.querySelector("#card-template").content,i=document.querySelector(".places__list"),u=document.querySelector(".profile__edit-button"),a=document.querySelector(".popup_type_edit"),d=document.querySelector(".popup_type_new-card"),l=document.querySelectorAll(".popup__close"),p=document.querySelector(".profile__add-button"),s=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),m=document.querySelector(".popup_type_image"),f=m.querySelector(".popup__image"),v=m.querySelector(".popup__caption"),y=document.querySelector(".popup__form"),q=y.querySelector(".popup__input_type_name"),S=y.querySelector(".popup__input_type_description"),b=document.forms["new-place"],x=b.querySelector(".popup__input_type_card-name"),k=b.querySelector(".popup__input_type_url");function L(n){var r=function(e,t,n,r,o){var c=o.querySelector(".card").cloneNode(!0),i=c.querySelector(".card__image"),u=c.querySelector(".card__title"),a=c.querySelector(".card__delete-button"),d=c.querySelector(".card__like-button");return i.src=e.link,i.alt=e.name,u.textContent=e.name,a.addEventListener("click",(function(){t(c)})),d.addEventListener("click",(function(){r(d)})),i.addEventListener("click",(function(){n(e.link,e.name)})),c}(n,e,E,t,c);i.prepend(r)}function E(e,t){f.src=e,f.alt=t,v.textContent=t,n(m)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"},{name:"Город",link:"https://images.unsplash.com/photo-1740548786545-443986b49549?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxmZWF0dXJlZC1waG90b3MtZmVlZHwzMXx8fGVufDB8fHx8fA%3D%3D"},{name:"Омерика наверное",link:"https://images.unsplash.com/photo-1741290723082-bd54c16a21a8?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxmZWF0dXJlZC1waG90b3MtZmVlZHwzfHx8ZW58MHx8fHx8"}].forEach(L),u.addEventListener("click",(function(){q.value=s.textContent,S.value=_.textContent,n(a)})),p.addEventListener("click",(function(){n(d)})),l.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return r(t)})),t.addEventListener("mousedown",(function(e){e.target===t&&r(t)}))}));var h=function(e){var t=e.querySelector('button[type="submit"]');Array.from(e.querySelectorAll("input")).some((function(e){return!e.validity.valid}))?(t.setAttribute("disabled",!0),t.classList.add("button_disabled")):(t.removeAttribute("disabled"),t.classList.remove("button_disabled"))};document.querySelectorAll("form").forEach((function(e){e.querySelectorAll("input").forEach((function(t){var n=document.querySelector("#".concat(t.id,"-error"));n&&(n.dataset.default=n.textContent),t.addEventListener("input",(function(t){(function(e){var t=e.target;t.validity.valid?function(e){var t=document.querySelector("#".concat(e.id,"-error"));e.classList.remove("form__input_type_error"),t&&(t.classList.remove("form__input-error_active"),t.textContent="")}(t):function(e){var t=document.querySelector("#".concat(e.id,"-error"));e.classList.add("form__input_type_error"),t&&(t.classList.add("form__input-error_active"),e.validity.valueMissing&&(t.textContent=t.dataset.default))}(t)})(t),h(e)}))})),h(e)})),y.addEventListener("submit",(function(e){e.preventDefault(),s.textContent=q.value,_.textContent=S.value,r(a)})),b.addEventListener("submit",(function(e){e.preventDefault(),L({name:x.value,link:k.value}),r(d),b.reset()}))})();